<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Unit 3 – Stumbling upon the Past: Vocabulary Practice</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{
      font-family:"Century Gothic","Trebuchet MS",Arial,sans-serif;
      background:#f5f7ff;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      margin:0;
    }
    .container{
      background:#fff;
      max-width:860px;
      width:95%;
      padding:22px 24px 28px;
      border-radius:16px;
      box-shadow:0 4px 14px rgba(0,0,0,.12);
    }
    .header{
      display:flex;
      align-items:center;
      gap:14px;
      margin-bottom:14px;
    }
    .logo{
      width:56px;
      height:56px;
      border-radius:12px;
      object-fit:cover;
      background:#eef1ff;
    }
    h1{
      margin:0;
      color:#333366;
      font-size:22px;
      line-height:1.25;
      text-align:left;
    }
    .sub{
      margin:6px 0 0;
      color:#5b5b78;
      font-size:14px;
      text-align:left;
    }
    #question-number{
      font-weight:bold;
      margin:10px 0 6px;
      color:#555;
    }
    #question-text{
      font-size:1.06rem;
      margin-bottom:16px;
      white-space:normal;
      color:#111827;
    }
    .options{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
      margin-bottom:12px;
    }
    button.option{
      padding:12px 14px;
      border-radius:12px;
      border:1px solid #ccd;
      background:#eef1ff;
      cursor:pointer;
      text-align:left;
      font-size:1rem;
      transition:transform .1s, box-shadow .1s, background .1s;
    }
    button.option:hover{
      box-shadow:0 2px 6px rgba(0,0,0,.15);
      transform:translateY(-1px);
    }
    button.option:disabled{
      cursor:default;
      opacity:.72;
      box-shadow:none;
      transform:none;
    }
    #feedback{
      min-height:34px;
      font-size:1rem;
      margin-bottom:10px;
      line-height:1.35;
    }
    #feedback.correct{ color:#177b2f; }
    #feedback.incorrect{ color:#b22222; }
    .controls{
      display:flex;
      align-items:center;
      gap:10px;
      margin-top:6px;
    }
    #next-btn,#restart-btn{
      padding:10px 16px;
      border-radius:999px;
      border:none;
      color:#fff;
      font-size:.98rem;
      cursor:pointer;
    }
    #next-btn{
      background:#4b63ff;
      display:none;
    }
    #next-btn:hover{ background:#384ed9; }
    #restart-btn{
      background:#111827;
    }
    #restart-btn:hover{ background:#0b1220; }
    #score{
      margin-top:14px;
      font-size:.95rem;
      color:#444;
      text-align:right;
    }
    ul{
      margin:10px 0 0;
      padding-left:20px;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <!-- Logo file must exist in the same folder as this HTML -->
      <img class="logo" src="ga_logo.png" alt="Giraffe Academy logo" />
      <div>
        <h1>Unit 3 – Stumbling upon the Past</h1>
        <div class="sub">Vocabulary Practice · Meaning first, then Usage · Review Mode</div>
      </div>
    </div>

    <div id="question-number"></div>
    <div id="question-text"></div>
    <div class="options" id="options-container"></div>
    <div id="feedback"></div>

    <div class="controls">
      <button id="next-btn">Next</button>
      <button id="restart-btn">Restart</button>
    </div>

    <div id="score"></div>
  </div>

  <script>
    const questions = [
      // ========= PART A: MEANING =========
      {
        section: "Meaning",
        word: "paleontologist",
        question: "Which word means:\nA scientist who studies fossils and ancient life on Earth?",
        options: ["paleontologist","pastime","dinosaur","dream"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "dinosaur",
        question: "Which word is:\nAn extinct animal that lived millions of years ago, often very large?",
        options: ["dinosaur","skull","ravine","ash"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "pastime",
        question: "Which word means:\nA fun activity that someone does in their free time?",
        options: ["pastime","dream","layers","sedimentary rock"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "ravine",
        question: "Which word means:\nA deep, narrow valley with steep sides, often made by water?",
        options: ["ravine","layers","skull","ash"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "ash",
        question: "Which word means:\nSoft gray powder left after something, like rock or wood, burns?",
        options: ["ash","sedimentary rock","dinosaur","favorite"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "sedimentary rock",
        question: "Which word means:\nRock made from sand, mud, or tiny pieces of other rock pressed into layers?",
        options: ["sedimentary rock","layers","ash","ravine"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "layers",
        question: "Which word means:\nDifferent horizontal levels of rock or soil, one on top of another?",
        options: ["layers","ash","skull","pastime"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "skull",
        question: "Which word means:\nThe bone structure of the head that protects the brain?",
        options: ["skull","dinosaur","ravine","dream"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "discover",
        question: "Which word means:\nTo find something that no one knew about or noticed before?",
        options: ["discover","determine","tripped","examine"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "examine",
        question: "Which word means:\nTo look at something very carefully to learn more about it?",
        options: ["examine","excavate","discover","dream"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "excavate",
        question: "Which word means:\nTo dig in the ground to uncover objects that are buried?",
        options: ["excavate","examine","tripped","favorite"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "determine",
        question: "Which word means:\nTo figure something out or decide it after thinking or using facts?",
        options: ["determine","discover","dream","layers"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "dream",
        question: "Which word means:\nA strong hope or wish for the future, or an idea you imagine while sleeping?",
        options: ["dream","pastime","favorite","ash"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "favorite",
        question: "Which word means:\nSomething you like more than all the others of the same kind?",
        options: ["favorite","dinosaur","skull","ravine"],
        answer: 0
      },
      {
        section: "Meaning",
        word: "tripped",
        question: "Which word means:\nStumbled because your foot hit something and you almost fell?",
        options: ["tripped","excavate","examine","determine"],
        answer: 0
      },

      // ========= PART B: USAGE =========
      {
        section: "Usage",
        word: "paleontologist",
        question: "Choose the best word:\nA __________ studied the bones and said they belonged to a new kind of dinosaur.",
        options: ["paleontologist","pastime","dream","favorite"],
        answer: 0
      },
      {
        section: "Usage",
        word: "ravine",
        question: "Choose the best word:\nThe boys were careful when they walked near the edge of the steep __________.",
        options: ["ravine","layers","skull","ash"],
        answer: 0
      },
      {
        section: "Usage",
        word: "sedimentary rock",
        question: "Choose the best word:\nMost dinosaur fossils are found in __________ because bones were buried under mud and sand.",
        options: ["sedimentary rock","ash","paleontologist","pastime"],
        answer: 0
      },
      {
        section: "Usage",
        word: "discover",
        question: "Choose the best word:\nJavier hoped he would __________ a dinosaur bone before anyone else did.",
        options: ["discover","determine","tripped","favorite"],
        answer: 0
      },
      {
        section: "Usage",
        word: "tripped",
        question: "Choose the best word:\nHe __________ over a rock, and that’s when he saw something strange in the ground.",
        options: ["tripped","excavate","examine","dreamed"],
        answer: 0
      }
    ];

    // Force: Meaning first, then Usage (no shuffle)
    const meaningOrder = questions
      .map((q, i) => ({ q, i }))
      .filter(x => x.q.section === "Meaning")
      .map(x => x.i);

    const usageOrder = questions
      .map((q, i) => ({ q, i }))
      .filter(x => x.q.section === "Usage")
      .map(x => x.i);

    let order = [...meaningOrder, ...usageOrder];

    let current = 0;
    let score = 0;
    let incorrectQuestions = [];
    let isReview = false;
    let reviewIndex = 0;
    let currentQuestionIndex = order[current];

    const qNumberEl = document.getElementById("question-number");
    const qTextEl = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");
    const feedbackEl = document.getElementById("feedback");
    const nextBtn = document.getElementById("next-btn");
    const restartBtn = document.getElementById("restart-btn");
    const scoreEl = document.getElementById("score");

    function showQuestion() {
      currentQuestionIndex = isReview ? incorrectQuestions[reviewIndex] : order[current];
      const q = questions[currentQuestionIndex];

      qNumberEl.textContent = isReview
        ? `Review ${reviewIndex + 1} of ${incorrectQuestions.length}`
        : `Question ${current + 1} of ${questions.length}`;

      const formatted = q.question.replace(/\n/g, "<br>");
      qTextEl.innerHTML =
        `<div style="font-weight:bold;color:#333366;margin-bottom:8px;">Part: ${q.section}</div>` +
        formatted;

      feedbackEl.textContent = "";
      feedbackEl.className = "";
      nextBtn.style.display = "none";

      optionsContainer.innerHTML = "";
      q.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.className = "option";
        btn.textContent = opt;
        btn.onclick = () => handleAnswer(index);
        optionsContainer.appendChild(btn);
      });

      scoreEl.textContent = `Score: ${score} / ${questions.length}`;
    }

    function handleAnswer(selectedIndex) {
      const q = questions[currentQuestionIndex];
      const buttons = document.querySelectorAll("button.option");
      buttons.forEach(b => (b.disabled = true));

      if (selectedIndex === q.answer) {
        if (!isReview) score++;
        feedbackEl.textContent = "Correct.";
        feedbackEl.className = "correct";
      } else {
        feedbackEl.innerHTML = `Incorrect. Correct answer: <strong>${q.options[q.answer]}</strong>`;
        feedbackEl.className = "incorrect";

        if (!isReview && !incorrectQuestions.includes(currentQuestionIndex)) {
          incorrectQuestions.push(currentQuestionIndex);
        }
      }

      scoreEl.textContent = `Score: ${score} / ${questions.length}`;
      nextBtn.style.display = "inline-block";
    }

    nextBtn.addEventListener("click", () => {
      if (!isReview) {
        current++;
        if (current < questions.length) {
          showQuestion();
        } else {
          if (incorrectQuestions.length > 0) {
            isReview = true;
            reviewIndex = 0;
            showQuestion();
          } else {
            endQuizFinal();
          }
        }
      } else {
        reviewIndex++;
        if (reviewIndex < incorrectQuestions.length) {
          showQuestion();
        } else {
          endQuizFinal();
        }
      }
    });

    function endQuizFinal() {
      qNumberEl.textContent = "Finished";
      qTextEl.textContent = "You have finished the practice.";
      optionsContainer.innerHTML = "";

      let msg = `Final score: <strong>${score} / ${questions.length}</strong><br>`;
      const wrongWords = [...new Set(incorrectQuestions.map(i => questions[i].word))];

      if (wrongWords.length > 0) {
        msg += `<br><strong>Words to review:</strong><ul>${wrongWords.map(w => `<li>${w}</li>`).join("")}</ul>`;
      } else {
        msg += "<br><strong>Excellent.</strong> You got everything correct.";
      }

      feedbackEl.innerHTML = msg;
      nextBtn.style.display = "none";
      feedbackEl.className = "";
    }

    restartBtn.addEventListener("click", () => {
      current = 0;
      score = 0;
      incorrectQuestions = [];
      isReview = false;
      reviewIndex = 0;
      order = [...meaningOrder, ...usageOrder]; // keep Meaning first
      showQuestion();
    });

    showQuestion();
  </script>
</body>
</html>
